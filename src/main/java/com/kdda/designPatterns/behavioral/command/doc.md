### 命令模式（Command Pattern）
命令模式是一种行为型设计模式，它将请求封装成对象，从而允许你用不同的请求、队列或者日志来参数化对象，并支持可撤销的操作。命令模式的核心思想是将“请求的发送者”和“请求的接收者”解耦，使得发送请求的一方不需要知道接收请求的一方是如何处理请求的。

### 关键点：
1. 解耦请求的发出者和接收者：命令模式将具体操作封装在命令对象中，使请求的发送者不需要知道操作的具体实现。
2. 扩展性强：可以很容易地添加新的命令，而不需要修改已有代码，符合开闭原则。
3. 支持撤销/重做：命令模式通过存储命令对象可以支持请求的撤销和重做操作。
### 组成部分：
1. 命令接口（Command）：声明一个执行操作的方法。
2. 具体命令类（Concrete Command）：实现命令接口，绑定接收者对象，调用接收者的功能实现请求。
3. 接收者（Receiver）：执行实际操作的类。
4. 调用者（Invoker）：持有命令对象，调用命令对象的方法来执行请求。
5. 客户端（Client）：负责创建命令对象，并将其关联到接收者和调用者。
### 示例：
假设我们有一个家电控制系统，可以通过遥控器控制家中的设备，如灯光和音响。
命令模式可以将每个设备的操作封装成命令对象，遥控器作为调用者，只需要执行命令即可。
### 典型应用：
1. 任务队列：任务队列中的每一个任务可以看作是一个命令对象，这些任务按照顺序执行，且可以撤销和重做。
2. 事务管理：数据库事务可以使用命令模式，记录每个操作并支持撤销操作。
3. 日志系统：系统的操作可以记录为命令对象，便于日志回放或重做操作。
### 优点：
1. 解耦发送者和接收者：命令模式将发出请求的对象与处理请求的对象解耦。
2. 扩展性强：可以很容易地添加新的命令，不需要修改已有的代码。
3. 支持撤销和重做：通过存储历史命令，支持撤销和重做操作。
### 缺点：
1. 类的数量增加：引入命令模式后，每个操作都需要一个具体的命令类，可能会导致类的数量增多。
2. 命令的复杂性：如果涉及复杂的命令逻辑，命令对象的结构可能会变得复杂。
### 总结：
命令模式非常适用于需要对操作进行解耦、扩展或操作可撤销的场景。
它使得调用者不需要关心具体的操作实现，有助于实现更加灵活和可扩展的设计。